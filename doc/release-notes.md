# Crown v0.13.0 (Codename "Jade") Release Notes

Crown Core v0.13.0 is a major release and a mandatory upgrade.

It features 2 main changes over the previous v0.12.5.x version:
* new address prefixes
* switch from Proof of Work to Proof of Stake
 

## New address prefixes
When Crown originally forked from Bitcoin it retained the Bitcoin address format. 
Nowadays that is not a desirable legacy because it prevents use of Crown with 
hardware wallets such as Ledger and Trezor. Thos devices cannot distinguish 
between different coins with the same address prefixes.

v0.13.0 introduces new prefixes for both mainnet and testnet.

Mainnet addresses now begin with the prefix "CRW", eg:```CRWP934B9FbM5RaTUfT7zCH12a259j4PYbSE```

and testnet addresses now begin with the prefix "tCRW", eg:```tCRWZpkQ8aJ4wyWx5MiZup23WG8aw5JmKRAaQ```

These unique and distinctive prefixes will enable the use of Crown with hardware 
wallets. We hope to see the first integration soon. 
The change is friction-free from the user's perspective. Users who upgrade won't 
need to do anything to explicitly convert their old wallet addresses.   
blah blah blah

## Block generation change from Proof of Work to Proof of Stake
New address prefixes are a substantial change but are dwarfed in scope by the
change from Proof of Work (PoW) for block generation to Proof of Stake (PoS).

Proof of Work is a computationally intensive process which consumes a lot of power.
Proof of Stake is more environmentally friendly and removes the block generation
process from miners and gives the task to stakers instead.

Several dozen coins have already made this change but Crown's implementation is 
unique and has several advantages. The first coin with PoS was Peercoin which
used a combination PoW/PoS implementation. Blackcoin was the first PoS-only coin.
The majority of PoS coins rely on hot-wallet staking and have some dependence on
coin-age or wallet balance to decide which node wins the right to generate the 
next block and receive the block reward. Hot-wallet staking means the user's 
wallet must be online and open to stake.

The Crown implementation was designed and built by Tom Bradshaw (@presstab) at
<company name> over a period of several months. It features cold-staking on the
masternode and systemnode network. Users do not need to keep their wallets open
and online in order to stake. Instead, their collateral balance(s) is/are 
delegated to their masternode(s) and/or systemnode(s) to be staked there.

Contemporary staking systems generally work on the entire balance of a user's
wallet. Thus in a contemporary system a user with 100,000 coins in their
wallet stakes with all of them. 
The Crown system works only on coins locked as collateral in masternodes
or systemnodes. This encourages users to support the network by running one or
more nodes in order to ensure they get a share of the staking rewards. 
In the Crown system a user with 100,000 coins in their wallet only stakes with 
the ones locked in a masternode or systemnode. If they choose not to support the
network by not running any nodes then they have no chance to earn staking rewards.
If they lock all of their coins in masternodes or systennodes then all of their
coins are eligible to earn rewards. Therefore the minimum wallet balance which
can stake is 500 coins and those coins must be locked as the collateral for a 
systemnode. 

more blah blah blah about our several advantages including fake stake threat 
and how it's not an issue for us.

### The switchover
The switchover from PoW to PoS will take place at block height 2330000, approximately
2 weeks after release of v0.13.0.
This will allow time for users and exchanges to upgrade and get accustomed to the
new address prefixes and for the network to stabilise. At a dynamically determined
block height (about a day before the consensus change kicks in) nodes which have
not upgraded will be excluded from the network by activation of a spork. Nodes
which have upgraded will continue on the network uninterrupted. The network will
have time to stabilise again until at block height
2330000 it will say goodbye to the miners and the first PoS block will 
be generated by one of the masternodes or systemnodes.
The block generation time will remain 1 minute, as it is now. Every minute a
masternode or systemnode will generate ("mint") a block and share it with the
network. The node will be rewarded for it's efforts with a minting reward. 
This replaces the reward previously given to the miner which generated a block. 
The node will also pay the usual per block masternode and systemnode rewards.

### PoS FAQ
#### 1. How much can I earn through staking?
Every block minted earns a staking reward of 1.5CRW for the (owner of the) node
which created it. The more coins you have locked as collateral for masternodes
and/or systemnodes the greater chance you have of winning the staking reward on
any block.
#### 2. What's the minimum amount of Crown required for staking?
One systemnode of locked coins, in other words, 500CRW.
#### 3. What do I have to do to enable staking?
Apart from locking some coins as systemnode or masternode collateral, nothing.
If you really wanted to you could choose not to stake by setting ```staking=0```
in the crown.conf of your masternode/systemnode.
#### 4. Do I need to keep my wallet open to stake?
No. Once you have activated your masternode/systemnode the coins locked for
that node will keep staking for as long as your node is running.
#### 5. What about the much publicised fake stake attack vector?
There were 2 aspects to the fake stake attack. The first involved headers-first
syncing, but the Crown PoS implementation doesn't use headers-first so this 
is a complete non-issue. The second possible attack vector involved resource
exhaustion where a valid stake is required to begin the attack. This has been
avoided by leveraging the masternode network as trusted witnesses to the 
validity of a block.
#### 6. What if I have a gazillion coins but don't want to lock them all up in masternodes or systemnodes?
In that case you won't be able to earn staking rewards for the non-collateral
coins. The chosen system is uniquely egalitarian and rewards people for 
supporting the network. 


## Changelog
Possibly include changelog here or make it a separate file for ease of maintenance.